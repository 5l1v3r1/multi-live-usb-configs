#!ipxe

:selection

menu iPXE boot menu
item debian64		Boot debian 64bit installer
item debian		Boot debian 32bit installer
item debian64gui	Boot debian 64bit installer [gtk]
item debiangui		Boot debian 32bit installer [gtk]
item mageia64		Boot mageia 64bit installer
item mageia		Boot mageia 32bit installer
item opensuse64		Boot opensuse 64bit instaler (current version)
item opensuse		Boot opensuse 32bit instaler (current version)
item plop		Boot plop boot manager
item tinycore		Boot tinycore linux
item tinycore64		Boot tinycore linux [64bit]
item arch		Boot archlinux installer
item arch-text		Boot archlinux installer [text mode menu]
item centos		Boot CentOS installer
item fedora		Boot Fedora installer
item ubuntu		Boot Ubuntu installer
item ubuntu64		Boot Ubuntu installer [64bit]
item --key c config	Configure iPXE
item --key x exit	Exit iPXE
set menu-timeout 0



choose system || goto :selection

goto ${system}


:fedora

  dhcp
  set 209:string cfg/pxelinux.cfg
  set 210:string http://dl.fedoraproject.org/pub/alt/bfo/
  chain ${210:string}pxelinux.0

:centos

  dhcp
  set baseurl:string http://mirror.centos.org/centos/6/os/x86_64/
  initrd ${baseurl:string}isolinux/initrd.img
  chain  ${baseurl:string}isolinux/vmlinuz repo=${baseurl:string}

:ubuntu

  dhcp
  set 210:string http://archive.ubuntu.com/ubuntu/dists/saucy/main/installer-i386/current/images/netboot/
  chain ${210:string}pxelinux.0

:ubuntu64

  dhcp
  set 210:string http://archive.ubuntu.com/ubuntu/dists/saucy/main/installer-amd64/current/images/netboot/
  chain ${210:string}pxelinux.0

:debian64

  dhcp
  set 210:string http://ftp.pl.debian.org/debian/dists/Debian7.3/main/installer-amd64/current/images/netboot/
  chain ${210:string}pxelinux.0

:debian

  dhcp
  set 210:string http://ftp.pl.debian.org/debian/dists/Debian7.3/main/installer-i386/current/images/netboot/
  chain ${210:string}pxelinux.0

:debian64gui

  dhcp
  set 210:string http://ftp.pl.debian.org/debian/dists/Debian7.3/main/installer-amd64/current/images/netboot/gtk/
  chain ${210:string}pxelinux.0

:debiangui

  dhcp
  set 210:string http://ftp.pl.debian.org/debian/dists/Debian7.3/main/installer-i386/current/images/netboot/gtk/
  chain ${210:string}pxelinux.0

:mageia64
  dhcp
  set baseurl:string http://ftp5.gwdg.de/pub/linux/mageia/distrib/cauldron/x86_64/isolinux/x86_64/

  initrd   ${baseurl:string}all.rdz
  imgfetch ${baseurl:string}vmlinuz
  boot vmlinuz || goto selection


:mageia
  dhcp

  set baseurl:string http://ftp5.gwdg.de/pub/linux/mageia/distrib/cauldron/i586/isolinux/i586/
  initrd   ${baseurl:string}all.rdz
  imgfetch ${baseurl:string}vmlinuz
  boot vmlinuz || goto selection


:opensuse64

  dhcp

  initrd   http://download.opensuse.org/distribution/openSUSE-current/repo/oss/boot/x86_64/loader/initrd
  imgfetch http://download.opensuse.org/distribution/openSUSE-current/repo/oss/boot/x86_64/loader/linux 
  boot     linux Textmode=1 install=http://download.opensuse.org/distribution/openSUSE-current/repo/oss || goto selection

:opensuse
  dhcp

  initrd   http://download.opensuse.org/distribution/openSUSE-current/repo/oss/boot/i386/loader/initrd
  imgfetch http://download.opensuse.org/distribution/openSUSE-current/repo/oss/boot/i386/loader/linux 
  boot     linux Textmode=1 install=http://download.opensuse.org/distribution/openSUSE-current/repo/oss || goto selection

:plop

  dhcp 
  imgfetch http://some_web_server/memdisk
  initrd http://some_web_server/plpbt.img
  chain memdisk || goto selection

# for some reason direct boot of plop doesn't seem to work correctly
# also, memdisk fails when the *.img file is packed with gzip 
# (which _really_ reduces size)


:tinycore
  dhcp 
  initrd http://repo.tinycorelinux.net/4.x/x86/release/distribution_files/core.gz
  imgfetch http://repo.tinycorelinux.net/4.x/x86/release/distribution_files/vmlinuz
  boot vmlinuz || goto selection

# all other tinycore args still apply here
# it's worth setting up a NFS share for your extensions + persistence in this mode
# to make full use of tinycore's features

:tinycore64
  dhcp
  initrd http://repo.tinycorelinux.net/4.x/x86/release/distribution_files/core64.gz
  imgfetch http://repo.tinycorelinux.net/4.x/x86/release/distribution_files/vmlinuz64
  boot vmlinuz64 || goto selection


:arch

  dhcp

# config file name
  set 209:string cfg/arch.cfg
# path prefix
  set 210:string http://releng.archlinux.org/pxeboot/boot/
  chain ${210:string}pxelinux.0

# other params are documented on http://www.syslinux.org/wiki/index.php/PXELINUX

:arch-text

  dhcp
  set 209:string cfg/arch_text.cfg
  set 210:string http://releng.archlinux.org/pxeboot/boot/
  chain ${210:string}pxelinux.0

